<!DOCTYPE HTML PUBLIC"-//W3C//DTD HTML4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
<!--
		<div id="div1" style="width:100px;">
			<div id="div2" >
				<div id="div3" style="position: absolute;"></div>
			</div>
		</div>
-->
		<div id="div1" style="width:400px;height:400px;background-color:#11aa55">
			<div id="div2" style="display:absolute;width:200px;height:200px;background-color:#1122aa">div2
				<div id="div3" style="display:absolute;width: 100px;height:100px;background-color:pink;right:0;bottom:0;">div3</div>
			</div>
		</div>
		<script>
			//div3.parentNode  -> div2
			//div2.parentNode  -> div1

			var div3 = document.getElementById('div3');
			var body = document.getElementsByTagName('body')[0];
			/*标准浏览器:
			 * 1. div3所有父节点都没有定位的情况下, offsetParent就是body
			 * 2. div3所有父节点中如果有节点存在定位(绝对，相对，固定)情况, offsetParent就是有定位的祖先节点(就近原则)
			 * */
			//console.log(div3.offsetParent);	//body
			//
			console.log(document.compatMode);//标准模式还是混杂/怪异模式
			console.log(div3.offsetParent.id);
			console.log(div3.offsetParent.nodeName);
			console.log(body.offsetParent);
			//MDN中明确表示了offsetParent在标准模式中返回的应该是html,然而显示的内容是BODY.出现不一致的问题.

		</script>

	</body>
</html>
