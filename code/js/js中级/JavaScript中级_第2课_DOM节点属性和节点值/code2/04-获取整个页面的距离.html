<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{margin: 0;padding: 0;}
			#div1{width: 200px;height: 200px; background: red; overflow: hidden;margin: 20px;}
			#div2{width: 100px;height: 100px; background: yellow;margin: 50px; position: relative;}
			#div3,#div4{
				position:absolute;margin:100px;
			}
		</style>

	</head>
	<body>
		<div id="div4">
			<div id="div3">
				<div id="div1">
					<div id="div2"></div>
				</div>
			</div>
		</div>
		<script>
			var oDiv2 = document.getElementById('div2');
			//console.log(oDiv2.offsetLeft);	//不一定是70

			console.log(postLeft(oDiv2));

			function postLeft(obj){
				var result=0;

				while(obj)
				{
					//一直在循环加定位
					result += obj.offsetLeft;	//无定位: div2->body->null  70+0+null
					//指向他的上级定位对象,直到指向null则会跳出循环
					obj = obj.offsetParent;     //有定位: 50+20+0
				}
				return result;

			};

		</script>
	</body>
</html>
