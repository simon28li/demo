<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{margin:0; padding:0;}
#div1{width:500px; height:500px; border:10px solid #000; margin:20px auto; position:relative;}
#div2{width:100px; height:100px; background:red; position:absolute; left:0; top:0;}
</style>

<script>
window.onload = function(){
	var oDiv1 = document.getElementById('div1');
	var oDiv2 = document.getElementById('div2');
	
	var attr = ['left', 'top', 'left', 'top'];
	var target = [400, 400, 0, 0];
	var speed = [10, 10, -10, -10];	
	
	var iNow=0;
	
	setInterval(function(){
				
		oDiv2.style[ attr[iNow] ] =  parseInt(getStyle(oDiv2, attr[iNow])) + speed[iNow] + 'px';
		
		if(parseInt(getStyle(oDiv2, attr[iNow])) == target[iNow])
		{
			if(iNow==3)
			{
				iNow=0;	
			}
			else
			{
				iNow++;	
			}
			
		}
		
	},30);
	
	function getStyle(obj, attr){
		if(obj.currentStyle)
		{
			return obj.currentStyle[attr];	
		}	
		else
		{
			return getComputedStyle(obj)[attr];	
		}
	};
	
};

</script>

</head>

<body>
<div id="div1">
	<div id="div2"></div>
</div>

</body>
</html>
