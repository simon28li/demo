<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

<input type="checkbox" name="all"   onclick="checkAll()">全选
<input type="checkbox" name="check" onclick="check()">苹果
<input type="checkbox" name="check" onclick="check()">香蕉

<script>
    var x = document.getElementsByName('check');
    var y = document.getElementsByName('all');

    function checkAll(){
        for(var i=0;i< x.length;i++){
            if(y[0].checked==true){
                x[i].checked=true;
            }else{
                x[i].checked=false;
            }
          }
       }

       function check(){
           for(var i=0;i< x.length;i++){
               if(x[i].checked==false){
                   y[0].checked=false;
                   break;
               }else{
                   y[0].checked=true
          }
       }
   }
</script>
</body>
</html>