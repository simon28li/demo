<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<input type="checkbox" name="all" >全选
<input type="checkbox" name="check" >苹果
<input type="checkbox" name="check" >香蕉

<script>

    var x = document.getElementsByName('check');
    var y = document.getElementsByName('all');

    console.log(x);
    console.log(y);

    y[0].onclick=function(){
        for(var i=0;i< x.length;i++){
            if(y[0].checked==true){
                x[i].checked=true;
            }else{
                x[i].checked=false;
            }
        }
    };

    for(j=0;j< x.length;j++){
        x[j].onclick= function (){
                if(this.checked==false){
                        y[0].checked=false;
                }else{
                    y[0].checked=true;
                    for(var a=0;a< x.length;a++){
                        if(x[a].checked==false){
                            y[0].checked=false;
                        }
                    }
                }
            }
    }

</script>
</body>
</html>